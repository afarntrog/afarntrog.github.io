

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <!--Font Awesome-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="./main.css">


    <!-- <title>Aaron Farntrog</title> -->
    <title>Leetcode Contains Duplicate 3 - 3 Solutions. | afarntrog.com</title>
    
</head>

<body class="bg-light">
    <div id="msgs"></div>

    <div class="container d-flex p-3 mx-auto flex-column">
        <header class="mb-auto">
            <nav class="nav justify-content-center float-right">
                <div class="nav-link">
                    <div class="custom-control custom-switch">
                        <input type="checkbox" class="custom-control-input" onchange="darkModeToggle()" id="darkSwitch">
                        <label class="custom-control-label" for="darkSwitch">Dark Mode</label>
                    </div>
                </div>
            </nav>
        </header>
    </div>

    <div class="container">

        <div class="card profile-card mx-auto" style="max-width: 30rem;">
            <img class="card-img-top img-circle rounded-circle" src="./profile_pic.jpg" alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title text-center font-weight-bold">Aaron Farntrog</h5>
                <p></p>
                <p class="card-text text-center">Currently studying for a B.S. in Computer Science at Touro College, New
                    York. Expected graduation May, 2021.</p>
            </div>
            <!-- <hr> -->
            <div class="border-top pt-4 pb-4">
                <div class="row ">
                    <div class="col text-center ">
                        <a href="https://www.linkedin.com/in/afarntrog/" target="_blank"
                            class="btn btn-outline-info ml-3 float-lg-left"><strong>LinkedIn</strong> <span
                                class="fab fa-linkedin-in"></span></a>
                        <a href="https://1drv.ms/w/s!AgZd0IWGlzvFhStB9gwS_2HZT8R1?e=9qp0i4
                        " class="btn btn-outline-info" target="_blank"><strong>Resume</strong> <span
                                class="fa fa-download float-sm-none"></span></a>
                        <a href="https://github.com/afarntrog" target="_blank"
                            class="btn btn-outline-info  mr-3 float-lg-right"><strong>GitHub</strong> <span
                                class="fab fa-github"></span></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <!-- <div class="text-center" ><i class="btn text-muted" onclick="darkModeToggle()" id="bye">Dark ðŸŒ’ mode</i></div> -->
    <br>

    <!-- Projects container heading -->
    <div class="container">
        <div class=" row d-flex justify-content-center">
            <div class="divider">
                <hr>
            </div>
            <div class="divider">
                PROJECTS
            </div>
            <div class="divider">
                <hr>
            </div>
        </div>
    </div>

    <!-- Projects container -->
    <div class="container" id="projects">

        <div class="row">
            <div class="col-sm-4 py-2">
                <div class="card mb-3 bg-light" style="max-width: 20rem;">
                    <div class="card-header text-center">
                        <strong>Java-Board-Games</strong>
                    </div>
                    <div class="card-body">
                        <p>
                            Java-Board-Games is a repository of different classic board games I built with Java.
                            See how I implemented Othello or how I created a Sudoku solver using the Backtracking
                            approach.
                        </p>

                        <hr>

                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Java</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">IntelliJ</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Backtracking</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Git</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Github</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Linux</span></span>
                    </div>
                    <div class="card-footer">
                        <a href="https://github.com/afarntrog/java-board-games" target="_blank"
                            class="btn btn-block btn-outline-info">View Project</a>
                        <a href="https://github.com/afarntrog/java-board-games" target="_blank"
                            class="btn btn-block btn-outline-info">View Code</a>
                    </div>
                </div>
            </div>

            <div class="col-sm-4 py-2">
                <div class="card mb-3 bg-light" style="max-width: 20rem;">
                    <div class="card-header text-center">
                        <strong>Difficilis</strong>
                    </div>
                    <div class="card-body">
                        <p>
                            Difficilis is a platform where users can enter their dilemma and make better decisions.

                            <!--Display more or less words-->
                            <span class="collapse" id="block-id">
                                Users can also find inspiration by searching through dilemmas and decisions shared by
                                other users.
                                Additionally, users can interact by sharing their dilemmas publicly and by voting on
                                other public dilemmas.
                            </span>
                        </p>


                        <!-- aria-expanded attribute is mandatory -->
                        <!-- bootstrap changes it to true/false on toggle -->
                        <a href="#block-id" class="btn btn-outline-info" data-toggle="collapse" aria-expanded="false"
                            aria-controls="block-id">

                            <span class="collapsed">
                                Show more
                            </span>
                            <span class="expanded">
                                Show Less
                            </span>

                        </a>


                        <hr>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Python</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Javascript</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Django</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">jQuery</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">SQLite</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Git</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Github</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Linux</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Heroku</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">HTML</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Bootstrap</span></span>
                    </div>
                    <div class="card-footer">
                        <a href="https://www.difficilis.com/" target="_blank"
                            class="btn btn-block btn-outline-info">View Project</a>
                        <a href="https://github.com/afarntrog/difficilis-django" target="_blank"
                            class="btn btn-block btn-outline-info">View Code</a>
                    </div>
                </div>
            </div>

            <div class="col-sm-4 py-2">
                <div class="card mb-3 bg-light" style="max-width: 20rem;">
                    <div class="card-header text-center">
                        <strong>Portfolio</strong>
                    </div>
                    <div class="card-body">
                        This minimalist portfolio, geared toward backend software engineers, is open sourced on my
                        Github page.
                        <hr>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Ajax</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">jQuery</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Git</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Github</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Bootstrap</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">CSS</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">HTML</span></span>

                    </div>
                    <div class="card-footer">
                        <a href="https://aaronfarntrog.com/" target="_blank" class="btn btn-block btn-outline-info">View
                            Project</a>
                        <a href="https://github.com/afarntrog/afarntrog.github.io" target="_blank"
                            class="btn btn-block btn-outline-info">View Code</a>
                    </div>
                </div>
            </div>

            <div class="col-sm-4 py-2">
                <div class="card mb-3 bg-light" style="max-width: 20rem;">
                    <div class="card-header text-center">
                        <strong>YouTube Worcloud</strong>
                    </div>
                    <div class="card-body">
                        YouTube Worcloud allows anyone to easily create a Wordcloud from the comments of any YouTube
                        video.
                        <hr>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">YouTube API</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Javascript</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Git</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Python</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Django</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Ajax</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Heroku</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Bootstrap</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Linux</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">HTML</span></span>
                    </div>
                    <div class="card-footer">
                        <a href="https://youtube-wordcloud.herokuapp.com/" target="_blank"
                            class="btn btn-block btn-outline-info">View Project</a>
                        <a href="https://github.com/afarntrog/yt-comments-wordcloud" target="_blank"
                            class="btn btn-block btn-outline-info">View Code</a>
                    </div>
                </div>
            </div>

            <div class="col-sm-4 py-2">
                <div class="card mb-3 bg-light" style="max-width: 20rem;">
                    <div class="card-header text-center">
                        <strong>Searchable Classifieds</strong>
                    </div>
                    <div class="card-body">
                        <p>
                            This webapp scrapes JPEG images from my local newspapers classifieds job posts. It then
                            converts the JPEG to text using OCR.

                            <!--Display more or less words-->
                            <span class="collapse" id="Searchable">
                                I then displayed them in a nice format and added search to the app. So now you can
                                easily find jobs with your desired keywords.
                            </span>
                        </p>


                        <!-- aria-expanded attribute is mandatory -->
                        <!-- bootstrap changes it to true/false on toggle -->
                        <a href="#Searchable" class="btn btn-outline-info" data-toggle="collapse" aria-expanded="false"
                            aria-controls="block-id">

                            <span class="collapsed">
                                Show more
                            </span>
                            <span class="expanded">
                                Show Less
                            </span>

                        </a>

                        <hr>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">OCR</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Javascript</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Python</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Django</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Ajax</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Bootstrap</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Linux</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Heroku</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">HTML</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Git</span></span>
                    </div>
                    <div class="card-footer">
                        <a href="https://github.com/afarntrog/searchable-classifieds" target="_blank"
                            class="btn btn-block btn-outline-info">View Project</a>
                        <a href="https://github.com/afarntrog/searchable-classifieds" target="_blank"
                            class="btn btn-block btn-outline-info">View Code</a>
                    </div>
                </div>
            </div>

            <div class="col-sm-4 py-2">
                <div class="card mb-3 bg-light" style="max-width: 20rem;">
                    <div class="card-header text-center">
                        <strong>Twitter-Analyzer</strong>
                    </div>
                    <div class="card-body">
                        Analyze the "personality" behind a Twitter user. This will scrape all the users tweets and
                        output the overall sentiment of the target twitter user.
                        <hr>

                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Python</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Virtual Env</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Git</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Github</span></span>
                    </div>
                    <div class="card-footer">
                        <a href="https://github.com/afarntrog/twitter-personality" target="_blank"
                            class="btn btn-block btn-outline-info">View Project</a>
                        <a href="https://github.com/afarntrog/twitter-personality" target="_blank"
                            class="btn btn-block btn-outline-info">View Code</a>
                    </div>
                </div>
            </div>

            <div class="col-sm-4 py-2">
                <div class="card mb-3 bg-light" style="max-width: 20rem;">
                    <div class="card-header text-center">
                        <strong>Ecommerce Desktop Application</strong>
                    </div>
                    <div class="card-body">
                        A C# desktop application that is backed by a SQL database. It is a full scale Ecommerce platform
                        on the desktop.
                        <hr>

                        <span class="badge badge-pill badge-info mb-1"><span class="h6">C#</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">SQL Server</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">SQL</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">ERD</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Desktop
                                Application</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Git</span></span>
                    </div>
                    <div class="card-footer">
                        <a href="https://github.com/afarntrog/merch-shop" target="_blank"
                            class="btn btn-block btn-outline-info">View Project</a>
                        <a href="https://github.com/afarntrog/merch-shop" target="_blank"
                            class="btn btn-block btn-outline-info">View Code</a>
                    </div>
                </div>
            </div>

            <div class="col-sm-4 py-2">
                <div class="card mb-3 bg-light" style="max-width: 20rem;">
                    <div class="card-header text-center">
                        <strong>Contacts Android App</strong>
                    </div>
                    <div class="card-body">
                        A Java directory app for Touro college. Students can use it to keep track of important
                        information
                        about their professors and faculty.
                        <hr>

                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Java</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Android Studio</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Android</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Git</span></span>
                    </div>
                    <div class="card-footer">
                        <a href="https://github.com/afarntrog/touro-contacts" target="_blank"
                            class="btn btn-block btn-outline-info">View Project</a>
                        <a href="https://github.com/afarntrog/touro-contacts" target="_blank"
                            class="btn btn-block btn-outline-info">View Code</a>
                    </div>
                </div>
            </div>

            <div class="col-sm-4 py-2">
                <div class="card mb-3 bg-light" style="max-width: 20rem;">
                    <div class="card-header text-center">
                        <strong>Perpetual Motion Card Game</strong>
                    </div>
                    <div class="card-body">
                        Perpetual Motion Card Game is an Android app that allows users to play the fun Perpetual Motion
                        game.
                        This app takes advantage of RecyclerView and adapters to provide the most efficent experience.
                        <hr>

                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Java</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Android Studio</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Android</span></span>
                        <span class="badge badge-pill badge-info mb-1"><span class="h6">Git</span></span>
                    </div>
                    <div class="card-footer">
                        <a href="https://raw.githubusercontent.com/afarntrog/perpetual-motion-cards/master/game_gif.gif"
                            target="_blank" class="btn btn-block btn-outline-info">View Project</a>
                        <a href="https://github.com/afarntrog/perpetual-motion-cards" target="_blank"
                            class="btn btn-block btn-outline-info">View Code</a>
                    </div>
                </div>
            </div>

        </div>
        <!--End Row-->
    </div>
    <!--End Row-->
    </div>

    <h3 id="220-contains-duplicate-iii"><a href="https://leetcode.com/problems/contains-duplicate-iii/">220. Contains Duplicate III</a></h3>

<p>Given an array of integers, find out whether there are two distinct indices i and j in the array such that the absolute difference between nums[i] and nums[j] is at most t and the absolute difference between i and j is at most k.</p>

<p>Example 1:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: nums = [1,2,3,1], k = 3, t = 0
Output: true
</code></pre></div></div>
<hr />

<p>Letâ€™s try the easy solution first.</p>

<h2 id="1-brute-force-solution">1. Brute force solution</h2>

<p>This is definitely the simplest way to solve it but the most inefficient. We can simply create a nested <code class="language-plaintext highlighter-rouge">for loop</code> and check each value in the array against every other value
in the array. At each iteration we check if:</p>
<ol>
  <li>The two values have indexes that have an absolute difference between them that are at most k</li>
  <li>The two values themselves have an absolute difference between them that are at most t</li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">containsNearbyAlmostDuplicate</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">,</span> <span class="kt">int</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>  <span class="n">j</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span> <span class="o">(</span> <span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">((</span><span class="kt">long</span><span class="o">)</span> <span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">-</span> <span class="n">nums</span><span class="o">[</span><span class="n">j</span><span class="o">])</span> <span class="o">&lt;=</span> <span class="n">t</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">k</span><span class="o">)</span> <span class="o">)</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Note we can optimize this a bit by not looping over the <strong>entire</strong> array. Instead, we can start form i + 1 because we already tested the abs() value earlier.
(Math.abs(nums[i] - nums[j] ) is the same as Math.abs(nums[j] - nums[i] )) And we do <code class="language-plaintext highlighter-rouge">i + 1</code> because we want to exclude <code class="language-plaintext highlighter-rouge">i</code> itself since the index must be distinct.
However, this still results in O(n^2). 
We can do much better with the next solution.</p>

<h2 id="2-sliding-window-solution">2. Sliding window solution</h2>

<p>We will keep a small window of size k and check those k elements if there contains the correct value. 
The elements will be stored in a BST for O(log k) lookup.</p>

<p>We will maintain a binary search tree that never exceeds the value of k (our sliding window).
A BST has a search complexity of log k where k is the total number of nodes in the BST.</p>

<p>Summary of what we will do:
We will loop over the array and check all the values, that have an index that is within <code class="language-plaintext highlighter-rouge">k</code> indexes from the current index, if any of those values have an 
absolute difference from the current value that is <code class="language-plaintext highlighter-rouge">&lt;= t</code> we will <code class="language-plaintext highlighter-rouge">return true</code>.</p>

<p>For each value in the array we do the following:
1) Get the closest value that is smaller than this current value.
2) Get the closest value that is larger than this current value.</p>

<p>This essentially searches in both directions of the array. Remember, we are only searching within the <code class="language-plaintext highlighter-rouge">k</code> bound. Our tree will <strong>never</strong> exceed k nodes. Because we only
want to look at values to the left and right of the current value if those values have an <code class="language-plaintext highlighter-rouge">index &lt;= k</code>.</p>

<p>If there is a value in the treeSet that has an absolute difference from current value that is <code class="language-plaintext highlighter-rouge">&lt;= t</code> then we return true. Because, again, we already know that all the values in the BST are within <code class="language-plaintext highlighter-rouge">k</code> distance.
If there does not exist a value in the treeSet that has an absolute difference from current value that is <code class="language-plaintext highlighter-rouge">&lt;= t</code> then we add this current element to the <code class="language-plaintext highlighter-rouge">treeSet</code>
Then we adjust our sliding window to make sure our <code class="language-plaintext highlighter-rouge">treeSet</code> does not exceed <code class="language-plaintext highlighter-rouge">k</code>. Remove the furthest element if it does exceed <code class="language-plaintext highlighter-rouge">k</code>.</p>

<p>Letâ€™s take an example and walk through it:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: nums = [3,5,7,8], k = 2, t = 1
Output: true
</code></pre></div></div>

<p>We begin looping through the array and set <code class="language-plaintext highlighter-rouge">val</code> to 3. Since there are no values in the <code class="language-plaintext highlighter-rouge">treeSet</code>, <code class="language-plaintext highlighter-rouge">ceil</code> and <code class="language-plaintext highlighter-rouge">floor</code> are both <code class="language-plaintext highlighter-rouge">null</code>.
So we add 3 into <code class="language-plaintext highlighter-rouge">treeSet</code> and continue the loop.</p>

<p>Our <code class="language-plaintext highlighter-rouge">treeSet</code> currently looks like this:</p>

<p><img src="Contains_Duplicate_3/tree-3.png" alt="treeImage" /></p>

<p>Now <code class="language-plaintext highlighter-rouge">val</code> is 5. <code class="language-plaintext highlighter-rouge">floor</code> is 3 and <code class="language-plaintext highlighter-rouge">ceil</code> is <code class="language-plaintext highlighter-rouge">null</code> Since <code class="language-plaintext highlighter-rouge">5 - 3 is 2</code> this is not <code class="language-plaintext highlighter-rouge">&lt;= t</code> so we add 5 to <code class="language-plaintext highlighter-rouge">treeSet</code> and continue.</p>

<p>Our <code class="language-plaintext highlighter-rouge">treeSet</code> currently looks like this:</p>

<p><img src="Contains_Duplicate_3/tree-3-5.png" alt="treeImage" /></p>

<p>now <code class="language-plaintext highlighter-rouge">val</code> is 7. <code class="language-plaintext highlighter-rouge">floor</code> is 5 and <code class="language-plaintext highlighter-rouge">ceil</code> is <code class="language-plaintext highlighter-rouge">null</code>. Again, since this does not result in ` &lt;= t<code class="language-plaintext highlighter-rouge"> we add 7 to </code>treeSet<code class="language-plaintext highlighter-rouge"> and continue
Our </code>treeSet` currently looks like this:</p>

<p><img src="Contains_Duplicate_3/tree-3-5-7.png" alt="treeImage" /></p>

<p>Notice that our <code class="language-plaintext highlighter-rouge">treeSet</code> is larger than <code class="language-plaintext highlighter-rouge">k</code>! So we <strong>remove</strong> the <code class="language-plaintext highlighter-rouge">i - k</code> element, or the oldest added one.
Our updated <code class="language-plaintext highlighter-rouge">treeSet</code> currently looks like this:</p>

<p><img src="Contains_Duplicate_3/tree-5-7.png" alt="treeImage" /></p>

<p>now <code class="language-plaintext highlighter-rouge">val</code> is 8. <code class="language-plaintext highlighter-rouge">floor</code> is 7 and <code class="language-plaintext highlighter-rouge">ceil</code> is again <code class="language-plaintext highlighter-rouge">null</code>. Since <code class="language-plaintext highlighter-rouge">8 - 7 is 1</code> this is <code class="language-plaintext highlighter-rouge">&lt;= t</code> so we <code class="language-plaintext highlighter-rouge">return true</code> and weâ€™re done.</p>

<p>note we donâ€™t need to use Math.abs like in the brute force solution. This is because with <code class="language-plaintext highlighter-rouge">floor</code> we are getting the value that is the closest value
 to nums[i] that is still smaller than nums[i]. Therefore, we know that it will not return a negative since we will do (nums[i] - floor). The 
 same applies just in reverse when checking if (ceil - nums[i]) is in the BST.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">containsNearbyAlmostDuplicate</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">,</span> <span class="kt">int</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>

            <span class="k">if</span><span class="o">(</span><span class="n">nums</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">||</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>  <span class="c1">// this is basic check to make sure input is valid.</span>

            <span class="nc">TreeSet</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="n">treeSet</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TreeSet</span><span class="o">&lt;&gt;();</span>

            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
                <span class="kt">long</span> <span class="n">val</span> <span class="o">=</span> <span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>     <span class="c1">// cast to long because out TreeSet is of type Long.</span>

                <span class="nc">Long</span> <span class="n">floor</span> <span class="o">=</span> <span class="n">treeSet</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>
                <span class="nc">Long</span> <span class="n">ceil</span> <span class="o">=</span> <span class="n">treeSet</span><span class="o">.</span><span class="na">ceiling</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>

                <span class="k">if</span><span class="o">(</span> <span class="o">(</span><span class="n">floor</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">val</span> <span class="o">-</span> <span class="n">floor</span> <span class="o">&lt;=</span> <span class="n">t</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">ceil</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">ceil</span> <span class="o">-</span> <span class="n">val</span> <span class="o">&lt;=</span> <span class="n">t</span><span class="o">)</span> <span class="o">)</span>
                    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>

                <span class="n">treeSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>

                <span class="k">if</span><span class="o">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">)</span>
                    <span class="n">treeSet</span><span class="o">.</span><span class="na">remove</span><span class="o">((</span><span class="kt">long</span><span class="o">)</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">k</span><span class="o">]);</span>  <span class="c1">// remember to cast to long.</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>So this is O(n log k) because we are (maybe) going through the entire array and for each val in the array we do a BST lookup which is O(log k) 
 so this results in O(n log k).</p>

<p>O(n log k) is certainly better than O(n^2), however, can we do better? Well, yes. We can solve this in O(n) using Buckets.</p>

<h2 id="3-bucket-solution">3. Bucket solution:</h2>

<p>The general idea is to create buckets of values that are within t range.
The code below is well commented and variables are well named. Although the concept may be difficult this code should be easy to read and understand.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">containsNearbyAlmostDuplicate</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">,</span> <span class="kt">int</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// There cannot be a negative absolute distance.</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>    

        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="n">buckets</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>

        <span class="c1">// we add 1 to avoid the case where t == 0. </span>
        <span class="c1">// Because if t == 0 then we will get "ArithmeticException: / by zero" Exception when dividing by t later on when we get bucketID.</span>
        <span class="kt">long</span> <span class="n">bucketWidth</span> <span class="o">=</span> <span class="o">(</span><span class="kt">long</span><span class="o">)</span><span class="n">t</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> 

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">long</span> <span class="n">currNum</span> <span class="o">=</span> <span class="o">(</span><span class="kt">long</span><span class="o">)</span> <span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">-</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">;</span>   <span class="c1">// we must start the "base" from Integer.MIN_VALUE so that we can handle negative numbers. Do not focus on this right now.</span>
            <span class="kt">long</span> <span class="n">bucketID</span> <span class="o">=</span> <span class="n">currNum</span> <span class="o">/</span> <span class="n">bucketWidth</span><span class="o">;</span>  <span class="c1">// This will tell us which bucket to place the currNum into. </span>

            <span class="c1">// Each "bucket" will only ever have one value (unlike bucket sort)</span>
            <span class="c1">// if **this** value is already in the bucket than we know that currNum is definitely within t distance of bucketNum </span>
            <span class="c1">// additionally, if it is in the bucket then it is within k index range. so we found a match.</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">buckets</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">bucketID</span><span class="o">))</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>

            <span class="c1">// Next 2 `if` checks explained: </span>
            <span class="c1">// Some numbers with differences less than `t` __may__ be put into different buckets. In such cases, however, they can **only** be in **immediate** neighboring buckets.</span>

            <span class="c1">// if there is a bucket to the **immediate** left then check to see if that value in that bucket is within "absolute difference" distance (t) from the current value</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">buckets</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">bucketID</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">currNum</span> <span class="o">-</span> <span class="n">buckets</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">bucketID</span> <span class="o">-</span> <span class="mi">1</span><span class="o">))</span> <span class="o">&lt;</span> <span class="n">bucketWidth</span><span class="o">)</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>

            <span class="c1">// if there is a bucket to the **immediate** right then check to see if that value in that bucket is within "absolute difference" distance (t) from the current value</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">buckets</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">bucketID</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">currNum</span> <span class="o">-</span> <span class="n">buckets</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">bucketID</span> <span class="o">+</span> <span class="mi">1</span><span class="o">))</span> <span class="o">&lt;</span> <span class="n">bucketWidth</span><span class="o">)</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>

            <span class="c1">// add currNum to our buckets.</span>
            <span class="n">buckets</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">bucketID</span><span class="o">,</span> <span class="n">currNum</span><span class="o">);</span>

            <span class="c1">// Remove the element that is not within k index distance:</span>
            <span class="c1">// if i &gt;= k then we do not want to be looking at this value anymore since it is out of index range (k) so we will remove it. </span>
            <span class="c1">// We are getting the bucketID like we did earlier. Just we are doing i - k so that we get the element that is k distance from the current one, since that's the one out of range.</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">long</span> <span class="n">furthestNumBucketID</span> <span class="o">=</span> <span class="o">((</span><span class="kt">long</span><span class="o">)</span> <span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="n">k</span><span class="o">]</span> <span class="o">-</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">)</span> <span class="o">/</span> <span class="n">bucketWidth</span><span class="o">;</span>
                <span class="n">buckets</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">furthestNumBucketID</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>This solution has a time complexity of O(n). Since we only iterate through the array at max once and the lookup and inserts into the HashMap (<code class="language-plaintext highlighter-rouge">buckets</code>) is constant time O(1).</p>

<p>We covered 3 solutions. We did a brute force that runs in O(n^2) we then covered Sliding window solution that uses a BST that runs in (n log k) time and we finished with
the Bucket solution that runs in O(n) time. The more efficient they are the more complex they areâ€¦</p>





    <div class="col-sm-4 py-2">
        <div class="card mb-3 bg-light" style="max-width: 20rem;">
            <div class="card-header text-center">
                <strong>Leetcode: Length of Last Word</strong>
            </div>
            <div class="card-body">
                <p>
                    This article shows and explains in depth a solution to the Leetcode Length of Last Word problem.
                </p>
            </div>
            <div class="card-footer">
                <a href="posts/leetcode-length-of-last-word.html"
                    target="_blank" class="btn btn-block btn-outline-info">View Article</a>
            </div>
        </div>
    </div>






    <!-- Scroll button -->
    <button id="topButton" class="btn btn-info" onclick="toTheTop()"> <i class="fas fa-angle-up"></i></button>

    <!-- Load scripts after html -->
    <!-- Bootstrap, jQuery -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <!-- DarkReader CDN -->
    <script src="https://unpkg.com/darkreader@4.7.15/darkreader.js"></script>


    <!-- This will get and display the ip of a visitor -->
    <script>
        /*
        // Can only use formspree Ajax when upgrade plan
        function setFormValue(visitorIp) {
            var currentTime = new Date().toDateString();
            $.ajax({
                url: "https://formspree.io/mjvgzwqv", 
                crossDomain: true,
                method: "POST",
                data: {message: "You have a visitor at: " + currentTime + " with an ip of: " + visitorIp},
                dataType: "json"
            }); 
        };
        */


        $(document).ready(function () {
            var visitorIp;
            // 1) Get visitors IP from CloudFlare
            $.get('https://www.cloudflare.com/cdn-cgi/trace', function (data) {
                var ipRow = data.split("\n")[2]; // this is the ip row
                visitorIp = ipRow.split("=")[1];  // actual IP

                // 2) Display Greeting to visitor
                $('#msgs').html("<div class='alert alert-success text-center container alert-dismissible'><strong>Welcome! it's nice to see you, </strong> " + '<a href="https://www.google.com/search?q=myIp">' + visitorIp + '</a>' + "</div>");
                // 3) Auto fade Greeting away after
                $(".alert-dismissible").fadeTo(5000, 500).slideUp(500, function () {
                    $(".alert-dismissible").alert('close');
                });
                // setFormValue(visitorIp); //Can oonly send this ajax form when upgrade plan.
            })
        });

        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () { scrollFunction() };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("topButton").style.display = "block";
            } else {
                document.getElementById("topButton").style.display = "none";
            }

        }
        // Scroll to the top on button click
        function toTheTop() {
            $('html, body').animate({ scrollTop: 0 }, 'slow');
        };

        // Dark mode
        var toggle = false;
        function darkModeToggle() {
            toggle ? DarkReader.disable() : DarkReader.enable({ brightness: 100, contrast: 90, sepia: 10 });
            toggle = !toggle;
        };
    </script>
</body>

</html>